In this chapter, we go over the implementation details of the BlockLearning framework, following the guidelines defined in \Cref{chapter:methodology}. The complete implementation is publicly available on GitHub\footnote{\url{https://github.com/hacdias/blocklearning}}.

\section{Smart Contracts}

The first part of the framework is the smart contracts. As mentioned previously, this work uses the Ethereum\footnote{\url{https://ethereum.org/en/}} blockchain platform. Therefore, the smart contracts must be implemented in a programming language that supports Ethereum. We chose the Solidity\footnote{\url{https://soliditylang.org/}} programming language as it is the most well-known with the widest support.

\todo{}

% Since our framework supports different techniques with different requirements, we implemented four different smart contracts. These smart contracts inherit from a smart contract that provides the common data structures and functionality, named \texttt{Base}. In \texttt{Base}, we start by defining the different round phases:

% Below, you can see a skeleton of the functionality and data structures provided by the \texttt{Base} smart contract:

\section{Library}

% % The library is implemented in the Python\footnote{\url{https://www.python.org/}} programming language. The main motivation for using Python is that many well-known Machine Learning libraries, such as TensorFlow\footnote{\url{https://www.tensorflow.org/}} and PyTorch\footnote{\url{https://pytorch.org/}} are implemented in Python, as well as many data processing tools.

% % \subsubsection{Aggregation Algorithms}

% % The main aggregation algorithm used in this work is FedAvg, which is a weighted sum that uses the number of samples as the weights. The remaining algorithms are variations, where the weights in the weighted sum are replaced by scores. More details regarding the scoring mechanisms can be found in \Cref{background:scoring}. The aggregation algorithms implement the following common interface:

% % - Storage: off-chain, IPFS.

\todo{}

\section{Testbed}

\todo{}

% % - PoW and PoA: https://github.com/ethereum/go-ethereum
% % - QBFT: https://github.com/ConsenSys/quorum (fork of go-ethereum)
% % - PoS: not possible in private setting https://github.com/bnb-chain/bsc/issues/861
% % - docker stats for metrics https://docs.docker.com/engine/reference/commandline/stats/
